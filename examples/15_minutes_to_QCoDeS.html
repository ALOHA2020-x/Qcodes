

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>15 minutes to QCoDeS &mdash; QCoDeS 0.5.2+358.gdf0b82bf4 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="QCoDeS config" href="Configuring_QCoDeS.html" />
    <link rel="prev" title="Examples of using QCoDeS" href="index.html" />
    <link href="../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> QCoDeS
          

          
          </a>

          
            
            
              <div class="version">
                0.5.2+358.gdf0b82bf4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../start/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help.html">Get Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community/index.html">Community Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataset/index.html">DataSet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">QCoDes API documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/generated/qcodes.instrument_drivers.html">qcodes.instrument_drivers package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changes/index.html">Changelogs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Examples of using QCoDeS</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#basic-examples">Basic examples</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">15 minutes to QCoDeS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Imports">Imports</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Logging">Logging</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Station-creation">Station creation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Instrument">Instrument</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Parameter">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Initialise-database-and-experiment">Initialise database and experiment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Measurement">Measurement</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Data-exploration">Data exploration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Other-important-things">Other important things</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Configuring_QCoDeS.html">QCoDeS config</a></li>
<li class="toctree-l3"><a class="reference internal" href="Main.html">QCoDeS Tutorials</a></li>
<li class="toctree-l3"><a class="reference internal" href="Station.html">Station</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#parameters">Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#dataset">DataSet</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#plotting">Plotting</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#drivers">Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#writing-drivers">Writing Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#logging">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#legacy-examples">Legacy examples</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">QCoDeS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Examples of using QCoDeS</a> &raquo;</li>
        
      <li>15 minutes to QCoDeS</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/examples/15_minutes_to_QCoDeS.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 5ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="15-minutes-to-QCoDeS">
<h1>15 minutes to QCoDeS<a class="headerlink" href="#15-minutes-to-QCoDeS" title="Permalink to this headline">¶</a></h1>
<p>This short introduction is aimed mainly for beginners. Before you can start with your first code using QCoDeS make sure you have properly set up the environment for QCoDeS (look at <a class="reference external" href="http://qcodes.github.io/Qcodes/start/index.html#installation">this document</a>).</p>
<div class="section" id="Introduction">
<h2>Introduction<a class="headerlink" href="#Introduction" title="Permalink to this headline">¶</a></h2>
<p>An experimental setup comprises of many instruments. We call an experimental setup as “station”. A station is connected to many instruments or devices. QcoDeS provides a way to interact with all these instruments to help users perform the measurements and store the data in a database. To interact (read/ write/ trigger etc) with the instruments we have created a <a class="reference external" href="http://qcodes.github.io/Qcodes/api/generated/qcodes.instrument_drivers.html">library of drivers</a> for commonly used instruments.
These drivers implement the commonly needed functionalities of the instruments.</p>
<p>An “Instrument” can perform many functions. For example, on an oscilloscope instrument, we first set a correct trigger level and other parameters and then obtain a trace. In QCoDeS lingo, we call “trigger_level” and “trace” as <code class="docutils literal notranslate"><span class="pre">parameter</span></code> of this <code class="docutils literal notranslate"><span class="pre">instrument</span></code>. An instrument at any moment will have many such parameters which together defines the state of the instrument, hence a parameter can be thought of as a state variable of the instrument. QCoDeS provides a method to set values of this
parameter (set trigger level) and get the values from them (obtain a trace). This way we can interact with all the needed parameters of an instrument and are ready to set up a measurement.</p>
<p>QCoDeS also have a similar programmatic structure as explained above. QCoDeS structure comprises of a <code class="docutils literal notranslate"><span class="pre">Station</span></code> class which is a bucket of objects from <code class="docutils literal notranslate"><span class="pre">Instrument</span></code> class containing many objects from <code class="docutils literal notranslate"><span class="pre">Parameter</span></code> class. The value of these parameters is set and measured during a measurement. The <code class="docutils literal notranslate"><span class="pre">Measurement</span></code> class provides a context manager for registering the parameters and providing a link between different parameters. The measured data is stored in a database.</p>
<p>Here, we will briefly discuss how you can set up your experiment with the help of Qcodes.</p>
<p><img alt="SchematicOverviewQcodes" src="../_images/Schematic_Overview_Qcodes.png" /></p>
</div>
<div class="section" id="Imports">
<h2>Imports<a class="headerlink" href="#Imports" title="Permalink to this headline">¶</a></h2>
<p>Customarily we import as follows:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">numpy.random</span> <span class="k">as</span> <span class="nn">rd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="k">import</span> <span class="n">partial</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">time</span> <span class="k">import</span> <span class="n">sleep</span><span class="p">,</span> <span class="n">monotonic</span>

<span class="kn">import</span> <span class="nn">qcodes</span> <span class="k">as</span> <span class="nn">qc</span>
<span class="kn">from</span> <span class="nn">qcodes</span> <span class="k">import</span> <span class="n">Station</span><span class="p">,</span> <span class="n">load_or_create_experiment</span><span class="p">,</span> \
    <span class="n">initialise_database</span><span class="p">,</span> <span class="n">Measurement</span><span class="p">,</span> <span class="n">load_by_run_spec</span><span class="p">,</span> <span class="n">load_by_guid</span>
<span class="kn">from</span> <span class="nn">qcodes</span> <span class="k">import</span> <span class="n">load_last_experiment</span><span class="p">,</span> <span class="n">load_experiment</span><span class="p">,</span> <span class="n">new_experiment</span><span class="p">,</span> <span class="n">experiments</span>
<span class="kn">from</span> <span class="nn">qcodes.tests.instrument_mocks</span> <span class="k">import</span> <span class="n">DummyInstrument</span>
<span class="kn">from</span> <span class="nn">qcodes.dataset.plotting</span> <span class="k">import</span> <span class="n">plot_dataset</span>
<span class="kn">from</span> <span class="nn">qcodes.logger.logger</span> <span class="k">import</span> <span class="n">start_all_logging</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Logging">
<h2>Logging<a class="headerlink" href="#Logging" title="Permalink to this headline">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">start_all_logging</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Logging hadn&#39;t been started.
Activating auto-logging. Current session state plus future input saved.
Filename       : /home/vsts/.qcodes/logs/command_history.log
Mode           : append
Output logging : True
Raw input log  : False
Timestamping   : True
State          : active
</pre></div></div>
</div>
<p>Every session must have logging turned on. This allows users to have all the logs in case troubleshooting is required. You can find the log files at the location of the ‘Filename’ shown above. This location contain two log files, - commands.log: contains the commands executed. - qcodes.log: contains python logging information.</p>
</div>
<div class="section" id="Station-creation">
<h2>Station creation<a class="headerlink" href="#Station-creation" title="Permalink to this headline">¶</a></h2>
<p>A station is a collection of all the instruments and devices present in your experiment. As mentioned earlier, it can be thought of as a bucket where you can add your <code class="docutils literal notranslate"><span class="pre">instruments</span></code>, <code class="docutils literal notranslate"><span class="pre">parameters</span></code> and other <code class="docutils literal notranslate"><span class="pre">components</span></code>. Each of these terms has a definite meaning in QCoDeS and is explained in later sections. Once a station is properly configured you can use its instance to access these components. Refer to tutorial on <a class="reference external" href="http://qcodes.github.io/Qcodes/examples/Station.html">Station</a> for
more details.</p>
<p>we start with instantiating a station class which at the moment does not comprise of any instrument or paramater.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">station</span> <span class="o">=</span> <span class="n">qc</span><span class="o">.</span><span class="n">Station</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>We can look at all the instruments and the parameters inside this station bucket using <code class="docutils literal notranslate"><span class="pre">snapshot</span></code> method. Since at the moment we have not added anything to our station our snapshot will contain nothing.</p>
<div class="section" id="Snapshot">
<h3>Snapshot<a class="headerlink" href="#Snapshot" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">station</span><span class="o">.</span><span class="n">snapshot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>{&#39;instruments&#39;: {},
 &#39;parameters&#39;: {},
 &#39;components&#39;: {},
 &#39;default_measurement&#39;: []}
</pre></div>
</div>
</div>
<p>The <a class="reference external" href="http://qcodes.github.io/Qcodes/examples/DataSet/Working%20with%20snapshots.html">snapshot</a> of the station is categorized as the dictionary of all the <code class="docutils literal notranslate"><span class="pre">instruments</span></code>,<code class="docutils literal notranslate"><span class="pre">parameters</span></code>, <code class="docutils literal notranslate"><span class="pre">components</span></code> and list of <code class="docutils literal notranslate"><span class="pre">default_measurement</span></code>. Once you have populated your station you may want to look at the snapshot again.</p>
</div>
</div>
<div class="section" id="Instrument">
<h2>Instrument<a class="headerlink" href="#Instrument" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Instrument</span></code> class in Qcodes is responsible for holding connections to hardware, creating a parameter, function, or method for each piece of functionality of the instrument. For more information on instrument class you can look at the <a class="reference external" href="http://qcodes.github.io/Qcodes/user/intro.html#instrument">detailed description here</a> or in the <a class="reference external" href="http://qcodes.github.io/Qcodes/api/instrument/index.html">api documentation</a> regarding instruments.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># A dummy instrument dac with two parameters ch1 and Ch2</span>
<span class="n">dac</span> <span class="o">=</span> <span class="n">DummyInstrument</span><span class="p">(</span><span class="s1">&#39;dac&#39;</span><span class="p">,</span> <span class="n">gates</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ch1&#39;</span><span class="p">,</span> <span class="s1">&#39;ch2&#39;</span><span class="p">])</span>

<span class="c1"># A dummy instrument dmm with two parameters ch1 and Ch2</span>
<span class="n">dmm</span> <span class="o">=</span> <span class="n">DummyInstrument</span><span class="p">(</span><span class="s1">&#39;dmm&#39;</span><span class="p">,</span> <span class="n">gates</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;v1&#39;</span><span class="p">,</span> <span class="s1">&#39;v2&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<p>You can also have the readable snapshot of the instrument.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dac</span><span class="o">.</span><span class="n">print_readable_snapshot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
dac:
        parameter value
--------------------------------------------------------------------------------
IDN :   None
ch1 :   0 (V)
ch2 :   0 (V)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dmm</span><span class="o">.</span><span class="n">print_readable_snapshot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
dmm:
        parameter value
--------------------------------------------------------------------------------
IDN :   None
v1  :   0 (V)
v2  :   0 (V)
</pre></div></div>
</div>
<div class="section" id="Add-instruments-into-station">
<h3>Add instruments into station<a class="headerlink" href="#Add-instruments-into-station" title="Permalink to this headline">¶</a></h3>
<p>Every instrument that you are working with in an experiment should be add to the instance of the <code class="docutils literal notranslate"><span class="pre">Station</span></code> class. Here, we add the dac and dmm instruments.</p>
<div class="section" id="Add-components">
<h4>Add components<a class="headerlink" href="#Add-components" title="Permalink to this headline">¶</a></h4>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">station</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="n">dac</span><span class="p">)</span>
<span class="n">station</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="n">dmm</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>&#39;dmm&#39;
</pre></div>
</div>
</div>
</div>
<div class="section" id="Remove-component">
<h4>Remove component<a class="headerlink" href="#Remove-component" title="Permalink to this headline">¶</a></h4>
<p>Use method <code class="docutils literal notranslate"><span class="pre">remove_component</span></code> to remove the components. For example you can remove dac in following way:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">station</span><span class="o">.</span><span class="n">remove_component</span><span class="p">(</span><span class="s1">&#39;dac&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>&lt;DummyInstrument: dac&gt;
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">station</span><span class="o">.</span><span class="n">components</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>{&#39;dmm&#39;: &lt;DummyInstrument: dmm&gt;}
</pre></div>
</div>
</div>
<p>We again add the dac instrument back.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">station</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="n">dac</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>&#39;dac&#39;
</pre></div>
</div>
</div>
</div>
<div class="section" id="Station-snapshot">
<h4>Station snapshot<a class="headerlink" href="#Station-snapshot" title="Permalink to this headline">¶</a></h4>
<p>Snapshot of the station is now populated with instruments.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">station</span><span class="o">.</span><span class="n">snapshot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>{&#39;instruments&#39;: {&#39;dmm&#39;: {&#39;functions&#39;: {},
   &#39;submodules&#39;: {},
   &#39;__class__&#39;: &#39;qcodes.tests.instrument_mocks.DummyInstrument&#39;,
   &#39;parameters&#39;: {&#39;IDN&#39;: {&#39;value&#39;: {&#39;vendor&#39;: None,
      &#39;model&#39;: &#39;dmm&#39;,
      &#39;serial&#39;: None,
      &#39;firmware&#39;: None},
     &#39;ts&#39;: &#39;2019-09-13 12:31:19&#39;,
     &#39;raw_value&#39;: {&#39;vendor&#39;: None,
      &#39;model&#39;: &#39;dmm&#39;,
      &#39;serial&#39;: None,
      &#39;firmware&#39;: None},
     &#39;__class__&#39;: &#39;qcodes.instrument.parameter.Parameter&#39;,
     &#39;full_name&#39;: &#39;dmm_IDN&#39;,
     &#39;post_delay&#39;: 0,
     &#39;inter_delay&#39;: 0,
     &#39;label&#39;: &#39;IDN&#39;,
     &#39;unit&#39;: &#39;&#39;,
     &#39;vals&#39;: &#39;&lt;Anything&gt;&#39;,
     &#39;name&#39;: &#39;IDN&#39;,
     &#39;instrument&#39;: &#39;qcodes.tests.instrument_mocks.DummyInstrument&#39;,
     &#39;instrument_name&#39;: &#39;dmm&#39;},
    &#39;v1&#39;: {&#39;value&#39;: 0,
     &#39;ts&#39;: &#39;2019-09-13 12:31:19&#39;,
     &#39;raw_value&#39;: 0,
     &#39;__class__&#39;: &#39;qcodes.instrument.parameter.Parameter&#39;,
     &#39;full_name&#39;: &#39;dmm_v1&#39;,
     &#39;post_delay&#39;: 0,
     &#39;inter_delay&#39;: 0,
     &#39;label&#39;: &#39;Gate v1&#39;,
     &#39;unit&#39;: &#39;V&#39;,
     &#39;vals&#39;: &#39;&lt;Numbers -800&lt;=v&lt;=400&gt;&#39;,
     &#39;name&#39;: &#39;v1&#39;,
     &#39;instrument&#39;: &#39;qcodes.tests.instrument_mocks.DummyInstrument&#39;,
     &#39;instrument_name&#39;: &#39;dmm&#39;},
    &#39;v2&#39;: {&#39;value&#39;: 0,
     &#39;ts&#39;: &#39;2019-09-13 12:31:19&#39;,
     &#39;raw_value&#39;: 0,
     &#39;__class__&#39;: &#39;qcodes.instrument.parameter.Parameter&#39;,
     &#39;full_name&#39;: &#39;dmm_v2&#39;,
     &#39;post_delay&#39;: 0,
     &#39;inter_delay&#39;: 0,
     &#39;label&#39;: &#39;Gate v2&#39;,
     &#39;unit&#39;: &#39;V&#39;,
     &#39;vals&#39;: &#39;&lt;Numbers -800&lt;=v&lt;=400&gt;&#39;,
     &#39;name&#39;: &#39;v2&#39;,
     &#39;instrument&#39;: &#39;qcodes.tests.instrument_mocks.DummyInstrument&#39;,
     &#39;instrument_name&#39;: &#39;dmm&#39;}},
   &#39;name&#39;: &#39;dmm&#39;},
  &#39;dac&#39;: {&#39;functions&#39;: {},
   &#39;submodules&#39;: {},
   &#39;__class__&#39;: &#39;qcodes.tests.instrument_mocks.DummyInstrument&#39;,
   &#39;parameters&#39;: {&#39;IDN&#39;: {&#39;value&#39;: {&#39;vendor&#39;: None,
      &#39;model&#39;: &#39;dac&#39;,
      &#39;serial&#39;: None,
      &#39;firmware&#39;: None},
     &#39;ts&#39;: &#39;2019-09-13 12:31:19&#39;,
     &#39;raw_value&#39;: {&#39;vendor&#39;: None,
      &#39;model&#39;: &#39;dac&#39;,
      &#39;serial&#39;: None,
      &#39;firmware&#39;: None},
     &#39;__class__&#39;: &#39;qcodes.instrument.parameter.Parameter&#39;,
     &#39;full_name&#39;: &#39;dac_IDN&#39;,
     &#39;post_delay&#39;: 0,
     &#39;inter_delay&#39;: 0,
     &#39;label&#39;: &#39;IDN&#39;,
     &#39;unit&#39;: &#39;&#39;,
     &#39;vals&#39;: &#39;&lt;Anything&gt;&#39;,
     &#39;name&#39;: &#39;IDN&#39;,
     &#39;instrument&#39;: &#39;qcodes.tests.instrument_mocks.DummyInstrument&#39;,
     &#39;instrument_name&#39;: &#39;dac&#39;},
    &#39;ch1&#39;: {&#39;value&#39;: 0,
     &#39;ts&#39;: &#39;2019-09-13 12:31:19&#39;,
     &#39;raw_value&#39;: 0,
     &#39;__class__&#39;: &#39;qcodes.instrument.parameter.Parameter&#39;,
     &#39;full_name&#39;: &#39;dac_ch1&#39;,
     &#39;post_delay&#39;: 0,
     &#39;inter_delay&#39;: 0,
     &#39;label&#39;: &#39;Gate ch1&#39;,
     &#39;unit&#39;: &#39;V&#39;,
     &#39;vals&#39;: &#39;&lt;Numbers -800&lt;=v&lt;=400&gt;&#39;,
     &#39;name&#39;: &#39;ch1&#39;,
     &#39;instrument&#39;: &#39;qcodes.tests.instrument_mocks.DummyInstrument&#39;,
     &#39;instrument_name&#39;: &#39;dac&#39;},
    &#39;ch2&#39;: {&#39;value&#39;: 0,
     &#39;ts&#39;: &#39;2019-09-13 12:31:19&#39;,
     &#39;raw_value&#39;: 0,
     &#39;__class__&#39;: &#39;qcodes.instrument.parameter.Parameter&#39;,
     &#39;full_name&#39;: &#39;dac_ch2&#39;,
     &#39;post_delay&#39;: 0,
     &#39;inter_delay&#39;: 0,
     &#39;label&#39;: &#39;Gate ch2&#39;,
     &#39;unit&#39;: &#39;V&#39;,
     &#39;vals&#39;: &#39;&lt;Numbers -800&lt;=v&lt;=400&gt;&#39;,
     &#39;name&#39;: &#39;ch2&#39;,
     &#39;instrument&#39;: &#39;qcodes.tests.instrument_mocks.DummyInstrument&#39;,
     &#39;instrument_name&#39;: &#39;dac&#39;}},
   &#39;name&#39;: &#39;dac&#39;}},
 &#39;parameters&#39;: {},
 &#39;components&#39;: {},
 &#39;default_measurement&#39;: []}
</pre></div>
</div>
</div>
</div>
<div class="section" id="Station-Configurator">
<h4>Station Configurator<a class="headerlink" href="#Station-Configurator" title="Permalink to this headline">¶</a></h4>
<p>The instantiation of the instruments, setting up the proper initial values of the corresponding parameters and similar pre-specifications of a measurement constitutes the initialization portion of the code. In general, this portion can be quite long and tedious to maintain. These (and more) concerns can be solved by a YAML configuration file of the <code class="docutils literal notranslate"><span class="pre">station</span></code> object. Look at notebook on <a class="reference external" href="http://qcodes.github.io/Qcodes/examples/Station.html#Default-Station">station</a> for more details.</p>
</div>
</div>
<div class="section" id="Simulating-the-response-of-instrument">
<h3>Simulating the response of instrument<a class="headerlink" href="#Simulating-the-response-of-instrument" title="Permalink to this headline">¶</a></h3>
<p>You may <strong>ignore this block</strong> during the first read. In actual experiments you will not need to simulate the response</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># a generator to simulate a physical signal, in this case an exponentially</span>
<span class="c1"># decaying signal</span>
<span class="k">def</span> <span class="nf">exponential_decay</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Yields a*exp(-b*x) where x is put in</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="k">yield</span>
        <span class="k">yield</span> <span class="n">a</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">b</span><span class="o">*</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.02</span><span class="o">*</span><span class="n">a</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">()</span>


<span class="c1"># and then a bit of &quot;wiring&quot; to make the dmm &quot;measure&quot;</span>
<span class="c1"># the exponential decay</span>

<span class="n">ed</span> <span class="o">=</span> <span class="n">exponential_decay</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span>
<span class="nb">next</span><span class="p">(</span><span class="n">ed</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">customgetter</span><span class="p">(</span><span class="n">dac</span><span class="p">):</span>
    <span class="n">val</span> <span class="o">=</span> <span class="n">ed</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">dac</span><span class="o">.</span><span class="n">ch1</span><span class="p">())</span>
    <span class="nb">next</span><span class="p">(</span><span class="n">ed</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">val</span>

<span class="n">dmm</span><span class="o">.</span><span class="n">v1</span><span class="o">.</span><span class="n">get</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">customgetter</span><span class="p">,</span> <span class="n">dac</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="Parameter">
<h2>Parameter<a class="headerlink" href="#Parameter" title="Permalink to this headline">¶</a></h2>
<p>Qcodes <code class="docutils literal notranslate"><span class="pre">Parameter</span></code> has the property that it is settable, gettable or both. Let us understand this with an example of a real instrument say oscilloscope. An oscilloscope contains a lot of settings such as trigger mode, trigger level, source etc. Most of these settings can be set to a particular value in the instrument say trigger mode can be set to ‘edge’ mode, trigger level to some floating number etc, hence these parameters are settable. Similarly, for many parameters, you may also be able to
retrieve values hence they are gettable. In this example notebook, we have ‘dac’ instrument with ‘ch1’ and ‘ch2’ as <code class="docutils literal notranslate"><span class="pre">Parameter</span></code>s. Similarly, we have dmm instrument with ‘v1’ and ‘v2’ as <code class="docutils literal notranslate"><span class="pre">Parameters</span></code>. Apart from this obvious use of <code class="docutils literal notranslate"><span class="pre">Parameter</span></code> as the standard parameter of the instrument it may also be used as variable, i.e. storing/retrieving a value, or be subclassed for more complex uses.</p>
<p>QCoDeS provides following classes of parameter built in: - <code class="docutils literal notranslate"><span class="pre">Parameter</span></code> : represents a single value at a time. Example: voltage. - <code class="docutils literal notranslate"><span class="pre">ParameterWithSetpoints</span></code>: represents an array of values of all the same type that are returned all at once. Example: voltage vs time waveform . <a class="reference external" href="http://qcodes.github.io/Qcodes/examples/Parameters/Simple-Example-of-ParameterWithSetpoints.html">This notebook</a> gives more detailed examples of how this parameter can be used. - <code class="docutils literal notranslate"><span class="pre">DelegateParameter</span></code>: is intended for
proxy-ing other parameters. You can use different label, unit, etc in the delegated parameter as compared to the source parameter. - <code class="docutils literal notranslate"><span class="pre">MultiParameter</span></code>: represents a collection of values with different meaning and possibly different dimension - Example: I and Q, or I vs time and Q vs time.</p>
<p>Look at the <a class="reference external" href="http://qcodes.github.io/Qcodes/examples/index.html#parameters">notebook on Parameter</a> for more details.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dac</span><span class="o">.</span><span class="n">ch1</span><span class="p">(</span><span class="mf">1.1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>and get the ouput voltage of dmm as</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dmm</span><span class="o">.</span><span class="n">v1</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>3.9900809353544395
</pre></div>
</div>
</div>
<p>Further information can be found in the <a class="reference external" href="http://qcodes.github.io/Qcodes/user/intro.html#parameter">user guide</a> or <a class="reference external" href="http://qcodes.github.io/Qcodes/api/parameters/index.html">api documentation</a> of parameter.</p>
</div>
<div class="section" id="Initialise-database-and-experiment">
<h2>Initialise database and experiment<a class="headerlink" href="#Initialise-database-and-experiment" title="Permalink to this headline">¶</a></h2>
<p>Before starting a measurement we first initialise a database in the location specified by the config object (read the config section below). The db is created with the latest supported version. If the database already exists then that database is used but is upgraded to the latest version.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">initialise_database</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Upgrading database; v0 -&gt; v1: : 0it [00:00, ?it/s]
Upgrading database; v1 -&gt; v2: 100%|██████████| 1/1 [00:00&lt;00:00, 707.18it/s]
Upgrading database; v2 -&gt; v3: : 0it [00:00, ?it/s]
Upgrading database; v3 -&gt; v4: : 0it [00:00, ?it/s]
Upgrading database; v4 -&gt; v5: 100%|██████████| 1/1 [00:00&lt;00:00, 758.19it/s]
Upgrading database; v5 -&gt; v6: : 0it [00:00, ?it/s]
Upgrading database; v6 -&gt; v7: 100%|██████████| 1/1 [00:00&lt;00:00, 54.34it/s]
Upgrading database; v7 -&gt; v8: 100%|██████████| 1/1 [00:00&lt;00:00, 672.81it/s]
</pre></div></div>
</div>
<div class="section" id="Current-location-of-database">
<h3>Current location of database<a class="headerlink" href="#Current-location-of-database" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">qc</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">db_location</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>&#39;~/experiments.db&#39;
</pre></div>
</div>
</div>
</div>
<div class="section" id="Change-location-of-database">
<h3>Change location of database<a class="headerlink" href="#Change-location-of-database" title="Permalink to this headline">¶</a></h3>
<p>To change the location of the data base to the current working directory.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">cwd</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
<span class="n">qc</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;core&quot;</span><span class="p">][</span><span class="s2">&quot;db_location&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cwd</span><span class="p">,</span> <span class="s1">&#39;testing.db&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Load-or-create-experiment">
<h3>Load or create experiment<a class="headerlink" href="#Load-or-create-experiment" title="Permalink to this headline">¶</a></h3>
<p>After initialising the database we create the <code class="docutils literal notranslate"><span class="pre">Experiment</span></code> object. This object contains the name of the experiment and the sample, and the path of the database. You can use <code class="docutils literal notranslate"><span class="pre">load_or_create_experiment</span></code> to find and return an experiment with the given experiment and sample name if it already exists, or create one if not found.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">exp</span> <span class="o">=</span> <span class="n">load_or_create_experiment</span><span class="p">(</span><span class="n">experiment_name</span><span class="o">=</span><span class="s1">&#39;dataset_context_manager&#39;</span><span class="p">,</span>
                                <span class="n">sample_name</span><span class="o">=</span><span class="s2">&quot;no sample1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Upgrading database; v0 -&gt; v1: : 0it [00:00, ?it/s]
Upgrading database; v1 -&gt; v2: 100%|██████████| 1/1 [00:00&lt;00:00, 739.87it/s]
Upgrading database; v2 -&gt; v3: : 0it [00:00, ?it/s]
Upgrading database; v3 -&gt; v4: : 0it [00:00, ?it/s]
Upgrading database; v4 -&gt; v5: 100%|██████████| 1/1 [00:00&lt;00:00, 670.02it/s]
Upgrading database; v5 -&gt; v6: : 0it [00:00, ?it/s]
Upgrading database; v6 -&gt; v7: 100%|██████████| 1/1 [00:00&lt;00:00, 54.92it/s]
Upgrading database; v7 -&gt; v8: 100%|██████████| 1/1 [00:00&lt;00:00, 681.23it/s]
</pre></div></div>
</div>
<p>The methods shown above to load or create the experiment is the most versatile one. However for specifics cases other methods (listed below) to create or load experiments may also be used.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># load_experiment_by_name(experiment_name=&#39;dataset_context_manager&#39;,sample_name=&quot;no sample&quot;)</span>
<span class="c1"># load_last_experiment()</span>
<span class="c1"># load_experiment(1)</span>
<span class="c1"># new_experiment(experiment_name=&#39;dataset_context_manager&#39;,sample_name=&quot;no sample&quot;)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="Measurement">
<h2>Measurement<a class="headerlink" href="#Measurement" title="Permalink to this headline">¶</a></h2>
<p>Qcodes <code class="docutils literal notranslate"><span class="pre">Measurement</span></code> module provides a context manager for registering parameters to measure and store results. The measurement is first linked to the correct experiment and station by passing them as an argument. If no argument is given, the currently loaded experiment and station are taken as default.</p>
<p>Qcodes is capable of storing relation between parameter i.e. which parameter is independent and which parameter depends on another one. This capability is later used to make useful plots, where the knowledge of interdependencies is used to infer what goes on x-axis and what on y-axis. All the parameters required in the measurement are first registered. In case a parameter depends on another parameter then another parameter is declared as a ‘setpoint’. In Qcodes lingo ‘setpoint’ parameter means
the parameter on which another parameter depends. In current example, dac.ch1 is the independent parameter and dmm.v1 is the dependent parameter whose setpoint is dac.ch1.</p>
<p><code class="docutils literal notranslate"><span class="pre">meas.write_period</span></code> is used to define the periods after which the data is committed to the database. We do not commit individual datapoint during measurement to the database but only after some amount of data is collected in stipulated time period (in this case for 2 seconds). The default value of write_period is 5 seconds.</p>
<p>The meas.run() returns a context manager for the experiment run. The <code class="docutils literal notranslate"><span class="pre">_enter_</span></code> method of the context manager returns the <code class="docutils literal notranslate"><span class="pre">DataSaver</span></code> object to the datasaver variable. The <code class="docutils literal notranslate"><span class="pre">DataSaver</span></code> class handles the saving of data to the database using the method add_result. The add_result method validate the sizes of all the data points and store them intermittently into a private variable. Every write-period (meas.write_period) of the measurement the data of the private variable is flushed to the
database.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">meas</span> <span class="o">=</span> <span class="n">Measurement</span><span class="p">(</span><span class="n">exp</span><span class="o">=</span><span class="n">exp</span><span class="p">,</span> <span class="n">station</span><span class="o">=</span><span class="n">station</span><span class="p">)</span>
<span class="n">meas</span><span class="o">.</span><span class="n">register_parameter</span><span class="p">(</span><span class="n">dac</span><span class="o">.</span><span class="n">ch1</span><span class="p">)</span>  <span class="c1"># register the first independent parameter</span>
<span class="n">meas</span><span class="o">.</span><span class="n">register_parameter</span><span class="p">(</span><span class="n">dmm</span><span class="o">.</span><span class="n">v1</span><span class="p">,</span> <span class="n">setpoints</span><span class="o">=</span><span class="p">(</span><span class="n">dac</span><span class="o">.</span><span class="n">ch1</span><span class="p">,))</span>  <span class="c1"># now register the dependent oone</span>

<span class="n">meas</span><span class="o">.</span><span class="n">write_period</span> <span class="o">=</span> <span class="mi">2</span>

<span class="k">with</span> <span class="n">meas</span><span class="o">.</span><span class="n">run</span><span class="p">()</span> <span class="k">as</span> <span class="n">datasaver</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">set_v</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
        <span class="n">dac</span><span class="o">.</span><span class="n">ch1</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">set_v</span><span class="p">)</span>
        <span class="n">get_v</span> <span class="o">=</span> <span class="n">dmm</span><span class="o">.</span><span class="n">v1</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="n">datasaver</span><span class="o">.</span><span class="n">add_result</span><span class="p">((</span><span class="n">dac</span><span class="o">.</span><span class="n">ch1</span><span class="p">,</span> <span class="n">set_v</span><span class="p">),</span>
                             <span class="p">(</span><span class="n">dmm</span><span class="o">.</span><span class="n">v1</span><span class="p">,</span> <span class="n">get_v</span><span class="p">))</span>

    <span class="n">dataset</span> <span class="o">=</span> <span class="n">datasaver</span><span class="o">.</span><span class="n">dataset</span>  <span class="c1"># convenient to have for plotting</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Starting experimental run with id: 1
</pre></div></div>
</div>
</div>
<div class="section" id="Data-exploration">
<h2>Data exploration<a class="headerlink" href="#Data-exploration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="List-all-the-experiments-in-the-database">
<h3>List all the experiments in the database<a class="headerlink" href="#List-all-the-experiments-in-the-database" title="Permalink to this headline">¶</a></h3>
<p>You can list all the experiments in the database as following.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">experiments</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>[dataset_context_manager#no sample1#1@/home/vsts/work/1/s/docs/examples/testing.db
 ---------------------------------------------------------------------------------
 1-results-1-dac_ch1,dmm_v1-10]
</pre></div>
</div>
</div>
<p>Currently the database contains only few experiments but in a lab the database will contain several experiments containing many datasets. Seldom, you would like to load a dataset from a particular experiment for further analysis. Here we look at the ways to find and retrieve already measured dataset from the data base.</p>
</div>
<div class="section" id="List-all-the-datasets-in-the-database">
<h3>List all the datasets in the database<a class="headerlink" href="#List-all-the-datasets-in-the-database" title="Permalink to this headline">¶</a></h3>
<p>You can look at the datasets in the current experiment using:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">exp</span><span class="o">.</span><span class="n">data_sets</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>[results #1@/home/vsts/work/1/s/docs/examples/testing.db
 -------------------------------------------------------
 dac_ch1 - numeric
 dmm_v1 - numeric]
</pre></div>
</div>
</div>
</div>
<div class="section" id="Load-the-data-set-using-one-or-more-specifications">
<h3>Load the data set using one or more specifications<a class="headerlink" href="#Load-the-data-set-using-one-or-more-specifications" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">load_by_run_spec</span></code> can be used to load a run from one or more pieces of runs specification such as ‘experiment name’, ‘sample name’ etc. All fields are optional but the function will raise an error if more than one run matching the supplied specification is found. Along with the error specs of the runs found will be printed. Refer to the section ‘Uniquely identifying and loading runs’ in <a class="reference external" href="http://qcodes.github.io/Qcodes/examples/DataSet/Extracting-runs-from-one-DB-file-to-another.html#Uniquely-identifying-and-loading-runs">this example
notebook</a></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dataset</span> <span class="o">=</span> <span class="n">load_by_run_spec</span><span class="p">(</span><span class="n">experiment_name</span><span class="o">=</span><span class="s1">&#39;dataset_context_manager&#39;</span><span class="p">,</span> <span class="n">captured_run_id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Plot-dataset">
<h3>Plot dataset<a class="headerlink" href="#Plot-dataset" title="Permalink to this headline">¶</a></h3>
<p>Now, you can plot this dataset using <code class="docutils literal notranslate"><span class="pre">plot_dataset</span></code></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">plot_dataset</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>([&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f051775bbd0&gt;], [None])
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_15_minutes_to_QCoDeS_75_1.png" src="../_images/examples_15_minutes_to_QCoDeS_75_1.png" />
</div>
</div>
</div>
<div class="section" id="Get-data-of-specific-parameter-of-a-dataset">
<h3>Get data of specific parameter of a dataset<a class="headerlink" href="#Get-data-of-specific-parameter-of-a-dataset" title="Permalink to this headline">¶</a></h3>
<p>If you are interested in a particular parameter in a dataset you can get is using <code class="docutils literal notranslate"><span class="pre">get_parameter_data</span></code></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dataset</span><span class="o">.</span><span class="n">get_parameter_data</span><span class="p">(</span><span class="s1">&#39;dac_ch1&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>{&#39;dac_ch1&#39;: {&#39;dac_ch1&#39;: array([ 0.        ,  2.77777778,  5.55555556,  8.33333333, 11.11111111,
         13.88888889, 16.66666667, 19.44444444, 22.22222222, 25.        ])}}
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dataset</span><span class="o">.</span><span class="n">get_parameter_data</span><span class="p">(</span><span class="s1">&#39;dmm_v1&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>{&#39;dmm_v1&#39;: {&#39;dmm_v1&#39;: array([4.88670427, 2.77009123, 1.73155949, 0.91969171, 0.69324546,
         0.26858163, 0.18152304, 0.0367979 , 0.05263826, 0.04248036]),
  &#39;dac_ch1&#39;: array([ 0.        ,  2.77777778,  5.55555556,  8.33333333, 11.11111111,
         13.88888889, 16.66666667, 19.44444444, 22.22222222, 25.        ])}}
</pre></div>
</div>
</div>
<p>Refer to exporting data section of the <a class="reference external" href="http://qcodes.github.io/Qcodes/examples/DataSet/Dataset%20Context%20Manager.html?highlight=get_parameter_data">example notebook</a> to have more information on <code class="docutils literal notranslate"><span class="pre">get_parameter_data</span></code></p>
</div>
</div>
<div class="section" id="Other-important-things">
<h2>Other important things<a class="headerlink" href="#Other-important-things" title="Permalink to this headline">¶</a></h2>
<div class="section" id="QCoDeS-Configuration">
<h3>QCoDeS Configuration<a class="headerlink" href="#QCoDeS-Configuration" title="Permalink to this headline">¶</a></h3>
<p>QCoDeS uses a JSON based configuration system. It is shipped with a default configuration. The default config file should not be overwritten. If you have any modifications, you should save the updated config file on your home directory or in the current working directory of your script/notebook. The QCoDeS config system first looks in the current directory for a config file and then in the home directory for one and only then - if no config files are found - it falls back to using the default
one. The default config is located in <code class="docutils literal notranslate"><span class="pre">qcodes.config</span></code>. To know how to change and save the config please refer to the <a class="reference external" href="http://qcodes.github.io/Qcodes/user/configuration.html?">documentation on config</a></p>
</div>
<div class="section" id="Export-data-to-pandas-dataframe">
<h3>Export data to pandas dataframe<a class="headerlink" href="#Export-data-to-pandas-dataframe" title="Permalink to this headline">¶</a></h3>
<p>The data from the database can also be exported to the pandas dataframe.Also refer to the <a class="reference external" href="http://qcodes.github.io/Qcodes/examples/DataSet/Working-With-Pandas-and-XArray.html">example notebook on working with pandas</a></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_data_as_pandas_dataframe</span><span class="p">()[</span><span class="s1">&#39;dmm_v1&#39;</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>dmm_v1</th>
    </tr>
    <tr>
      <th>dac_ch1</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0.000000</td>
      <td>4.886704</td>
    </tr>
    <tr>
      <td>2.777778</td>
      <td>2.770091</td>
    </tr>
    <tr>
      <td>5.555556</td>
      <td>1.731559</td>
    </tr>
    <tr>
      <td>8.333333</td>
      <td>0.919692</td>
    </tr>
    <tr>
      <td>11.111111</td>
      <td>0.693245</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="Writing-drivers">
<h3>Writing drivers<a class="headerlink" href="#Writing-drivers" title="Permalink to this headline">¶</a></h3>
<p>We support and provide the drivers for most of the instruments currently in use at the Microsoft stations. However, if more functionalities than the ones which are currently supported by drivers are required, one may update the driver or request the features form Qcodes team. If you would like to have a quick overview on how to write the drivers refer to the <a class="reference external" href="http://qcodes.github.io/Qcodes/examples/index.html#writing-drivers">example notebooks on writing drivers</a></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Configuring_QCoDeS.html" class="btn btn-neutral float-right" title="QCoDeS config" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Examples of using QCoDeS" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>