

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>QCoDeS Example with QDevil_QDAC &mdash; QCoDeS 0.12.0rc1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="QCoDeS Example with the Rigol DG 1062 Instrument" href="QCodes example with Rigol DG1062.html" />
    <link rel="prev" title="QCoDeS Example with Tektronix Keithley S46" href="QCodes example with Keithley S46.html" />
    <link href="../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> QCoDeS
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../start/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../help.html">Get Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../community/index.html">Community Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dataset/index.html">DataSet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">QCoDes API documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/generated/qcodes.instrument_drivers.html">qcodes.instrument_drivers package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changes/index.html">Changelogs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Examples of using QCoDeS</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#basic-examples">Basic examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#parameters">Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#dataset">DataSet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#plotting">Plotting</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#drivers">Drivers</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="QCoDeS example with Aim TTi PL601-P.html">QCoDeS example with Aim TTi PL601-P</a></li>
<li class="toctree-l3"><a class="reference internal" href="QCoDeS example with Keithley 3706A System Switch.html">QCoDeS example with Keithley 3706A System Switch</a></li>
<li class="toctree-l3"><a class="reference internal" href="QCodes example with Keithley S46.html">QCoDeS Example with Tektronix Keithley S46</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">QCoDeS Example with QDevil_QDAC</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Initialisation">Initialisation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Basic-QDAC-Usage">Basic QDAC Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Ramp-one-or-more-channels-simultaneously">Ramp one or more channels simultaneously</a></li>
<li class="toctree-l4"><a class="reference internal" href="#2D-scan">2D scan</a></li>
<li class="toctree-l4"><a class="reference internal" href="#The-“mode”-parameter:-controlling-voltage-and-current-ranges:">The “mode” parameter: controlling voltage and current ranges:</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Overview-of-channels">Overview of channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Temperature-sensors">Temperature sensors</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Resetting-the-driver-and-the-QDAC">Resetting the driver and the QDAC</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="QCodes example with Rigol DG1062.html">QCoDeS Example with the Rigol DG 1062 Instrument</a></li>
<li class="toctree-l3"><a class="reference internal" href="QCodes example with Tektronix DPO 72004C.html">QCoDeS example with Textronix DPO 7200xx scopes</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with AMI430.html">QCoDeS Example with AMI430</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Agilent 34400A.html">QCoDeS Example with Agilent 34400A</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Alazar 9360.html">QCoDeS Example with Alazar ATS 9360</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with DynaCool PPMS.html">QCoDeS Example with DynaCool PPMS</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Gentec Maestro.html">QCoDeS Example with Gentec Maestro</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with HP8753D.html">QCoDeS Example with HP8753D</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Ithaco.html">QCoDeS Example with Ithaco</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Keithley 2600.html">QCoDeS Example with with Keithley 2600</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Keithley 7510.html">QCoDeS Example with Tektronix Keithley 7510 Multimeter</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Keithley 7510.html#To-reset-the-system-to-default-settings:">To reset the system to default settings:</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Keithley 7510.html#To-perform-measurement-with-different-sense-functions:">To perform measurement with different sense functions:</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Keithley 7510.html#To-set-measurement-range-(positive-full-scale-measure-range):">To set measurement range (positive full-scale measure range):</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Keithley 7510.html#To-set-the-NPLC-(Number-of-Power-Line-Cycles)-value-for-measurements:">To set the NPLC (Number of Power Line Cycles) value for measurements:</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Keithley 7510.html#To-set-the-delay:">To set the delay:</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Keithley 7510.html#To-set-auto-zero-(automatic-updates-to-the-internal-reference-measurements):">To set auto zero (automatic updates to the internal reference measurements):</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Keithley 7510.html#To-set-averaging-filter-for-measurements,-including-average-count,-and-filter-type:">To set averaging filter for measurements, including average count, and filter type:</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Keysight 33500B.html">QCoDeS Example with Keysight 33500B</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Keysight 344xxA.html">QCoDeS Example with Keysight 344xxA</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Keysight 34980A Switch Mainframe and Modules.html">QCoDeS Example with Keysight 34980A Multifunction Switch / Measure Mainframe and Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Keysight 34980A Switch Mainframe and Modules.html#So,-when-to-use-connect,-connect_paths,-is_closed,-or-are_closed?">So, when to use connect, connect_paths, is_closed, or are_closed?</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Keysight B1500 Parameter Analyzer.html">Qcodes example with Keysight B1500 Semiconductor Parameter Analyzer</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Keysight B2200 Series Femto Leakage Switch Matrix.html">QCoDeS Example with Keysight B2200 Series Femto Leakage Switch Matrix</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Keysight Infiniium Oscilloscope.html">QCoDeS Example with Keysight Infiniium Oscilloscopes</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Keysight Network Analyzer.html">QCoDeS Example with Keysight Network Analyzers</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Lakeshore 325.html">QCoDeS Example with Lakeshore 325</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Lakeshore 336 or 372 - Bluefors T control.html">QCoDeS Example with the Lakeshore Model 372 to Control the Temperature of the Bluefors Fridge</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Minicircuits Switch boxes (USB-XSPDT).html">QCoDeS Example with Minicircuits Switch Boxes Controlled via USB</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Newport AG-UC8.html">QCoDeS Example with Newport AG-UC8 Piezo Motion Controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Oxford Mercury iPS.html">QCoDeS Example with Mercury iPS</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Oxford Triton.html">QCoDeS Example with Triton</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with QDac.html">QCoDeS Example with QDac</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with QDac_channels.html">QCoDeS Example with QDac_channels</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Rigol DP832.html">QCoDeS Example with Rigol DP832 Power Supply</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Rigol DS1074Z.html">QCoDeS Example with the Rigol DS 1074 Z oscilloscope</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Rohde Schwarz HMC8043.html">QCoDeS Example with R&amp;S HMC 8043 Power Supply</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Rohde Schwarz RTO 1000 series Oscilloscope.html">QCoDeS Example with Rohde Schwarz RTO 1000 Series Oscilloscope</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Rohde Schwarz ZNB.html">QCoDeS Example with Rohde Schwarz ZNB20/8</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Stahl.html">QCoDeS Example with the Stahl Bias Sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Stanford SR830.html">QCoDeS Example with Stanford SR830</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Stanford SR86x with buffered readout.html">QCoDeS Example with Standford Research SR86x Lock-in Amplifier with Buffered Readout</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Tektronix AWG5014C.html">QCoDeS Example with Tektronix AWG5014</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Tektronix AWG70002A.html">QCoDeS Example with Tektronix AWG70002A</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Tektronix TPS2012.html">QCoDeS Example with Tektronix TPS2012</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Yokogawa GS2xx.html">QCoDeS Example with Yokogawa GS200/GS210</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with ZI UHF-LI.html">QCoDeS Example with ZI UHF-LI</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with keithley 2450.html">QCoDeS Example with Tektronix Keithley 2450 Source Meter</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes+broadbean example with Tektronix AWG5208.html">QCoDeS+Broadbean Example with Tektronix AWG5208</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes-example-with-Signal-Hound-USB-SA124B.html">QCoDeS Example with Signal Hound USB-SA124B</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes-example-with-Signal-Hound-USB-SA124B-ParameterWithSetpoints.html">QCoDeS Example with Signal Hound USB-SA124B ParameterWithSetpoints</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#writing-drivers">Writing Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#logging">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#legacy-examples">Legacy examples</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">QCoDeS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Examples of using QCoDeS</a> &raquo;</li>
        
      <li>QCoDeS Example with QDevil_QDAC</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/examples/driver_examples/QCodes example with QDevil_QDAC.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    min-width: 5ex;
    padding-top: 0.3rem;
    padding-right: 0.3rem;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 0.3rem;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="admonition note">
  <p>This page was generated from
    <a class="reference external"
    href="https://github.com/qcodes/qcodes/blob/master/docs/examples/driver_examples/QCodes example with QDevil_QDAC.ipynb">docs/examples/driver_examples/QCodes example with QDevil_QDAC.ipynb</a>.
    Interactive online version:
    <a href="https://mybinder.org/v2/gh/qcodes/qcodes/master?filepath=docs/examples/driver_examples/QCodes example with QDevil_QDAC.ipynb"><img
alt="Binder badge"
    src="https://mybinder.org/badge_logo.svg"
    style="vertical-align:text-bottom"></a>.
  </p>
  <script>
    if (document.location.host) {
      var p = document.currentScript.previousSibling.previousSibling;
      var a = document.createElement('a');
      a.innerHTML = 'View in <em>nbviewer</em>';
      a.href = `https://nbviewer.jupyter.org/url${
        (window.location.protocol == 'https:' ? 's/' : '/') +
        window.location.host +
        window.location.pathname.slice(0, -4) }ipynb`;
      a.classList.add('reference');
      a.classList.add('external');
      p.appendChild(a);
      p.appendChild(document.createTextNode('.'));
    }
  </script>
</div><div class="section" id="QCoDeS-Example-with-QDevil_QDAC">
<h1>QCoDeS Example with QDevil_QDAC<a class="headerlink" href="#QCoDeS-Example-with-QDevil_QDAC" title="Permalink to this headline">¶</a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">qcodes</span> <span class="k">as</span> <span class="nn">qc</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>
<span class="kn">import</span> <span class="nn">qcodes.instrument_drivers.QDevil.QDevil_QDAC</span> <span class="k">as</span> <span class="nn">QDac</span>
<span class="kn">from</span> <span class="nn">qcodes.instrument_drivers.QDevil.QDevil_QDAC</span> <span class="kn">import</span> <span class="n">Mode</span>
</pre></div>
</div>
</div>
<div class="section" id="Initialisation">
<h2>Initialisation<a class="headerlink" href="#Initialisation" title="Permalink to this headline">¶</a></h2>
<p>When initialised, the driver will read in the state of the QDAC to the extend spossible. This means that initialisation does not change any outputs, implying that any ongoing ramping is continuing undisturbed. The initialisation is, however, <strong>not</strong> able to figure out if any <strong>slopes</strong> have been assigned to channels, see later. So these will have to be set again by the user.</p>
<p>During the initialisation all channels are queried in order to update the parmeter cache. However, as the current query is very slow due to the long current sensor integration time, it is optional to update currents. They are only read at startup if the <strong>update_currents</strong> flag is set to True.</p>
<p>NOTE: After switching the QDAC off and back on the driver has to be re-initialised, OR the reset() command has to be executed.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Connect to the instrument</span>
<span class="c1"># By default the initialisation skips reading the current sensors on all channels</span>
<span class="c1"># as this takes some 0.2-0.5 secs per channel due to the sensor settling time.</span>
<span class="c1"># You can force reading the current sensors at startup by specifiying &quot;update_currents=True&quot; in the call.</span>

<span class="n">qdac</span> <span class="o">=</span> <span class="n">QDac</span><span class="o">.</span><span class="n">QDac</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;qdac&#39;</span><span class="p">,</span> <span class="n">address</span><span class="o">=</span><span class="s1">&#39;ASRL2::INSTR&#39;</span><span class="p">,</span> <span class="n">update_currents</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of channels: &quot;</span><span class="p">,</span><span class="n">qdac</span><span class="o">.</span><span class="n">num_chans</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Basic-QDAC-Usage">
<h2>Basic QDAC Usage<a class="headerlink" href="#Basic-QDAC-Usage" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line">The QDevil_QDAC driver supports controlling each individual BNC output channel. Each output channel “qdac.ch##.” has seven attributes: * v: DC voltage * i: Current out (read-only) * mode: the combined voltage output and current sensor range: Mode.vhigh_ihigh, Mode.vhigh_ilow, Mode.vlow_ilow * slope: Maximum ramp rate for an output channel when changing teh DC voltage,v. * sync: Sync output assigned to a channel * sync_delay: Sync pulse delay</div>
<div class="line">* sync_duration: Sync pulse duration</div>
</div>
<p>The slope is the (maximal) slope in V/s that the channel will allow its voltage to change by. By default, all channels have a slope of “Inf”. The slope can be changed dynamically, but no more than 8 channels can be ramped simultaneously.</p>
<p>In addition this driver supports: * Reset the QDAC to start up conditions. Allows continuing operation after the QDAC has been powered off/on without restarting teh driver * Simultaneous ramping of up to 8 channels * 2D ramping of two groups of channels (slow and fast channels, up to 8 in total) * Override of protection against mode change for non-zero output voltages * Reading the internal temperature sensors * Pretty printing the state of all channels, of assigned sync outputs and of
assigned slopes</p>
<div class="section" id="Setting-voltages-and-reading-currents">
<h3>Setting voltages and reading currents<a class="headerlink" href="#Setting-voltages-and-reading-currents" title="Permalink to this headline">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Setting the output voltage of a channel using &quot;set&quot;</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">v</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># Reading the output voltage of a channel using &quot;get&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Channel 1 voltage: </span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">v</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">v</span><span class="o">.</span><span class="n">unit</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Setting the output voltage of a channel using short-hand notation, which is used hereafter</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">v</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># Reading the output voltage of a channel using short hand notion &quot;qdac.ch01.v()&quot;, which is used hereafter</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Channel 1 voltage: </span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">v</span><span class="p">(),</span> <span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">v</span><span class="o">.</span><span class="n">unit</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Reading the current output of a channel</span>
<span class="nb">print</span><span class="p">(</span><span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">i</span><span class="p">(),</span> <span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">i</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Smooth-ramping-between-voltages">
<h3>Smooth ramping between voltages<a class="headerlink" href="#Smooth-ramping-between-voltages" title="Permalink to this headline">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># For smooth voltage changes the maximal voltage change (in V/s) may be set for each channel</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">slope</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch02</span><span class="o">.</span><span class="n">slope</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="c1"># An overview may be printed (all other channels have &#39;Inf&#39; slope)</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">print_slopes</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Now setting channel 1 and 2 voltages will cause slow ramping to 0V (1 V/s and 2 V/s, respectively)</span>
<span class="c1"># Note that ch02 is already at 0 V, so the ramping function will complain bacause a ramp time</span>
<span class="c1"># less than 2 ms is not possible.</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">v</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch02</span><span class="o">.</span><span class="n">v</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Note that only 8 (or fewer) channels can be slow ramped at a time</span>
<span class="c1"># To disable slow ramping of a channel, set its slope to &#39;Inf&#39;:</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">slope</span><span class="p">(</span><span class="s1">&#39;Inf&#39;</span><span class="p">)</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">print_slopes</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Addressing-multiple-channels">
<h3>Addressing multiple channels<a class="headerlink" href="#Addressing-multiple-channels" title="Permalink to this headline">¶</a></h3>
<p>Multiple channels can be addressed simultaneously via the ‘channels’ list, by use of slicing. Note that numbering goes from 0 to N-1, where N is the number of channels.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># This will query voltages of all channels of a 24 channel QDAC</span>
<span class="c1"># Note that index 0 refer to channel 01, and so on</span>
<span class="nb">print</span><span class="p">(</span><span class="n">qdac</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span><span class="o">.</span><span class="n">v</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Similarly, we may set them. The outputs will not change simultaneously but witin some milliseconds.</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span><span class="o">.</span><span class="n">v</span><span class="p">(</span><span class="o">-</span><span class="mf">0.9</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Output-a-SYNC-pulse">
<h3>Output a SYNC pulse<a class="headerlink" href="#Output-a-SYNC-pulse" title="Permalink to this headline">¶</a></h3>
<p>The QDAC can output a puls one one of the SYNC outputs when a channel is ramped, either using the “slope” functionality, see above, or when using one of the ramping functions below.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># To each channel one may assign a SYNC output</span>
<span class="c1"># SYNC output 1 will fire a 10 ms 5 V pulse when ch02 initiates a ramp</span>
<span class="c1"># ch will ramp when setting a voltage while a slope is assinged, or when using &quot;ramp_voltages&quot;</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch02</span><span class="o">.</span><span class="n">sync</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># note that a pulse is still fired even if no visible ramp is performed</span>
<span class="c1"># e.g if ramping from 1 V to 1 V</span>

<span class="c1"># The sync pulse settings can be modified</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch02</span><span class="o">.</span><span class="n">sync_delay</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># The sync pulse delay (s)</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch02</span><span class="o">.</span><span class="n">sync_duration</span><span class="p">(</span><span class="mf">25e-3</span><span class="p">)</span>  <span class="c1"># The sync pulse duration (secs). Default is 10 ms.</span>

<span class="c1"># Print an overview of assigned SYNC ports</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">print_syncs</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Plug in an oscilloscope to CH02 and SYNC1 and observe the ramping and the sync pulse</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch02</span><span class="o">.</span><span class="n">slope</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch02</span><span class="o">.</span><span class="n">v</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch02</span><span class="o">.</span><span class="n">v</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># syncs are unassigned by assigning sync 0</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch02</span><span class="o">.</span><span class="n">sync</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="Ramp-one-or-more-channels-simultaneously">
<h2>Ramp one or more channels simultaneously<a class="headerlink" href="#Ramp-one-or-more-channels-simultaneously" title="Permalink to this headline">¶</a></h2>
<p>Setting several channels simutaneously is only possible using “ramp_voltages”. Note that</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Here we ramp channels 1, 2, 3, and 7 from there current values to zero, in 0.2 seconds</span>
<span class="n">duration</span> <span class="o">=</span> <span class="n">qdac</span><span class="o">.</span><span class="n">ramp_voltages</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">],[],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="mf">0.2</span><span class="p">)</span>
<span class="n">sleep</span><span class="p">(</span><span class="n">duration</span><span class="o">+</span><span class="mf">0.05</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># As it takes tens of milliseconds to read the channels&#39; current voltage, it is faster</span>
<span class="c1"># if their previous voltages are known:</span>
<span class="n">duration</span> <span class="o">=</span> <span class="n">qdac</span><span class="o">.</span><span class="n">ramp_voltages</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span><span class="mf">0.2</span><span class="p">)</span>
<span class="n">sleep</span><span class="p">(</span><span class="n">duration</span><span class="o">+</span><span class="mf">0.05</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="Ramp-a-single-channel-step-by-step-and-record-and-plot-the-current-sensor-reading">
<h3>Ramp a single channel step by step and record and plot the current sensor reading<a class="headerlink" href="#Ramp-a-single-channel-step-by-step-and-record-and-plot-the-current-sensor-reading" title="Permalink to this headline">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Perform a 1D scan of the QDAC ch01 and record the current on</span>
<span class="c1"># the same channel also using the QDAC.</span>
<span class="c1"># Replace the QDAC current measurement by a DMM to do a typical physical measurement</span>

<span class="kn">from</span> <span class="nn">qcodes.dataset.plotting</span> <span class="kn">import</span> <span class="n">plot_by_id</span>
<span class="kn">from</span> <span class="nn">qcodes.dataset.measurements</span> <span class="kn">import</span> <span class="n">Measurement</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">ctime</span>
<span class="n">STATION</span> <span class="o">=</span> <span class="n">qc</span><span class="o">.</span><span class="n">station</span><span class="o">.</span><span class="n">Station</span><span class="p">(</span><span class="n">qdac</span><span class="p">)</span>
<span class="n">qc</span><span class="o">.</span><span class="n">new_experiment</span><span class="p">(</span><span class="s2">&quot;QDAC&quot;</span><span class="p">,</span> <span class="s2">&quot;TestIV&quot;</span><span class="o">+</span><span class="n">ctime</span><span class="p">())</span>
<span class="n">meas</span> <span class="o">=</span> <span class="n">Measurement</span><span class="p">()</span>
<span class="n">meas</span><span class="o">.</span><span class="n">register_parameter</span><span class="p">(</span><span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">v</span><span class="p">)</span>  <span class="c1"># register the independent parameter</span>
<span class="n">meas</span><span class="o">.</span><span class="n">register_parameter</span><span class="p">(</span><span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">i</span><span class="p">,</span> <span class="n">setpoints</span><span class="o">=</span><span class="p">(</span><span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">v</span><span class="p">,))</span>  <span class="c1"># now register the dependent one</span>
<span class="n">meas</span><span class="o">.</span><span class="n">write_period</span> <span class="o">=</span> <span class="mi">2</span>
<span class="k">with</span> <span class="n">meas</span><span class="o">.</span><span class="n">run</span><span class="p">()</span> <span class="k">as</span> <span class="n">datasaver</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">set_v</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
        <span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">v</span><span class="p">(</span><span class="n">set_v</span><span class="p">)</span>
        <span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
        <span class="n">get_i</span> <span class="o">=</span> <span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">i</span><span class="p">()</span>
        <span class="n">datasaver</span><span class="o">.</span><span class="n">add_result</span><span class="p">((</span><span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">v</span><span class="p">,</span> <span class="n">set_v</span><span class="p">),</span>
                            <span class="p">(</span><span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">i</span><span class="p">,</span> <span class="n">get_i</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">set_v</span><span class="p">,</span> <span class="n">get_i</span><span class="p">)</span>
    <span class="n">dataset</span> <span class="o">=</span> <span class="n">datasaver</span><span class="o">.</span><span class="n">dataset</span>
<span class="n">myplot</span> <span class="o">=</span> <span class="n">plot_by_id</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">run_id</span><span class="p">)</span>
<span class="n">qc</span><span class="o">.</span><span class="n">dataset</span><span class="o">.</span><span class="n">plotting</span><span class="o">.</span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>      <span class="c1"># Sometimes it is necessasry to out-comment this line in Jupyter....</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="2D-scan">
<h2>2D scan<a class="headerlink" href="#2D-scan" title="Permalink to this headline">¶</a></h2>
<p>It is possible to ramp two groups of channels simultaneously. This is useful for a 2D data acquisition setup Note! The slope definitions are not used during the 2D scan.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># set outputs to zero</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">v</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch02</span><span class="o">.</span><span class="n">v</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch03</span><span class="o">.</span><span class="n">v</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># enable sync on one of the fast channels (sync signal is output at every start of a staircase ramp.)</span>
<span class="c1"># for example for triggering a digitizer</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch02</span><span class="o">.</span><span class="n">sync</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># enable a 10ms sync delay which allows for stabilizing of the device</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch02</span><span class="o">.</span><span class="n">sync_delay</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Note! The slope definitions are not used during the 2D scan</span>
<span class="n">duration</span> <span class="o">=</span> <span class="n">qdac</span><span class="o">.</span><span class="n">ramp_voltages_2d</span><span class="p">(</span> <span class="n">slow_chans</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">slow_vstart</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">slow_vend</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                                  <span class="n">fast_chans</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">fast_vstart</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">fast_vend</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
                                  <span class="n">slow_steps</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">fast_steps</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
                                  <span class="n">step_length</span><span class="o">=</span><span class="mf">0.02</span><span class="p">)</span>
<span class="c1"># wait for the ramp to finish</span>
<span class="n">sleep</span><span class="p">(</span><span class="n">duration</span><span class="o">+</span><span class="mf">0.1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">qdac</span><span class="o">.</span><span class="n">print_syncs</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Set outputs back to zero</span>
<span class="c1"># First remove sync output so that we do not trigger an acquisition</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch02</span><span class="o">.</span><span class="n">sync</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">v</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch02</span><span class="o">.</span><span class="n">v</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch03</span><span class="o">.</span><span class="n">v</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="The-“mode”-parameter:-controlling-voltage-and-current-ranges:">
<h2>The “mode” parameter: controlling voltage and current ranges:<a class="headerlink" href="#The-“mode”-parameter:-controlling-voltage-and-current-ranges:" title="Permalink to this headline">¶</a></h2>
<p>The “mode” parameter is controlling the output voltage range (by an attenuator) and the current sensor range. Only certain combinations of the two are allowed, which is why they are conrolled by a single parameter. The mode parameter is allowed values are:</p>
<p>Mode.vhigh_ihigh : high voltage output range / high current sensing range</p>
<p>Mode.vhigh_ilow : high voltage output range / low current sensing range</p>
<p>Mode.vlow_ilow : low voltage output range / low current sensing range</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># The &quot;QDac.Mode&quot; enum class is used for setting and reading the mode.</span>

<span class="c1"># This will set the voltage output range to low, and the current sensor range to low</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">mode</span><span class="p">(</span><span class="n">Mode</span><span class="o">.</span><span class="n">vlow_ilow</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">mode</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span><span class="o">.</span><span class="n">get_label</span><span class="p">())</span>

<span class="c1"># This will return ch01 to the default mode: high voltage range, high current sensing range</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">mode</span><span class="p">(</span><span class="n">Mode</span><span class="o">.</span><span class="n">vhigh_ihigh</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">mode</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span><span class="o">.</span><span class="n">get_label</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="section" id="When-“mode”-change-results-in-change-of-voltage-range">
<h3>When “mode” change results in change of voltage range<a class="headerlink" href="#When-“mode”-change-results-in-change-of-voltage-range" title="Permalink to this headline">¶</a></h3>
<p>When changing “mode” so that the voltage range is changed the attenuator is switched immidiately. The driver will re-adjust the output voltage in order to keep it constant, but a spike will always occur if the voltage is non-zero. If the set voltage is outside the range of the low range and the transition is from high to low range, the output will be clipped.</p>
<p>To avoid spikes, the driver by default <strong>does not allow changing the voltage range (mode)</strong> when the output is non-zero. To over-ride this protection, set qdac.mode_force(True).</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Here is a small example showing demonstrating the behavior - if posible hook up an oscilloscope on ch01</span>
<span class="c1">#</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">slope</span><span class="p">(</span><span class="s1">&#39;Inf&#39;</span><span class="p">)</span>                <span class="c1"># Make sure that we are not fooled by a slow changing ch01</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">mode</span><span class="p">(</span><span class="n">Mode</span><span class="o">.</span><span class="n">vhigh_ihigh</span><span class="p">)</span>      <span class="c1"># Attenuation OFF (the default), high voltage range</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">v</span><span class="p">(</span><span class="mf">1.5</span><span class="p">)</span>                      <span class="c1"># Set the voltage to outside the low voltage range (but inside present range)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">qdac</span><span class="o">.</span><span class="n">mode_force</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>            <span class="c1"># Enable changing voltage range eventhough the output is non-zero</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">mode</span><span class="p">(</span><span class="n">Mode</span><span class="o">.</span><span class="n">vlow_ilow</span><span class="p">)</span>   <span class="c1"># Attenuation ON, low voltage range - signal is clipped, and a dip occurred</span>
<span class="nb">print</span><span class="p">(</span><span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">v</span><span class="p">())</span>            <span class="c1"># Returns approximately 1.1V as the output is clipped to the low range limit</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">mode</span><span class="p">(</span><span class="n">Mode</span><span class="o">.</span><span class="n">vhigh_ihigh</span><span class="p">)</span>      <span class="c1"># Attenuation off, high voltage range</span>
<span class="nb">print</span><span class="p">(</span><span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">v</span><span class="p">())</span>                  <span class="c1"># Returns approximately 1.1V, unchanged - but a spike occured</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Return to protected mode</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">mode_force</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Now provoke an error</span>
<span class="nb">print</span><span class="p">(</span><span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">v</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">mode</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span><span class="o">.</span><span class="n">get_label</span><span class="p">())</span>     <span class="c1"># Pretty printing the mode parameter</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">qdac</span><span class="o">.</span><span class="n">ch01</span><span class="o">.</span><span class="n">mode</span><span class="p">(</span><span class="n">Mode</span><span class="o">.</span><span class="n">vlow_ilow</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">ve</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ERROR: &quot;</span><span class="p">,</span> <span class="n">ve</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="Overview-of-channels">
<h2>Overview of channels<a class="headerlink" href="#Overview-of-channels" title="Permalink to this headline">¶</a></h2>
<p>The driver provides a method for pretty-printing the state of all channels</p>
<p>The pretty-print method may or may not <strong>update</strong> the values for the currents, depending on the value of the <code class="docutils literal notranslate"><span class="pre">update_currents</span></code> flag. Each current reading takes some 200-500 ms, so updating all current values takes about 14-24 seconds depending on the number of channels.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">qdac</span><span class="o">.</span><span class="n">print_overview</span><span class="p">(</span><span class="n">update_currents</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Temperature-sensors">
<h2>Temperature sensors<a class="headerlink" href="#Temperature-sensors" title="Permalink to this headline">¶</a></h2>
<p>Physically, the QDac consists of either three or six boards each hosting eight channels. For diagnostics purposes temperature sensors are placed at three locations on each board,. Read-only parameters for these sensors are provided, named tempX_Y where X is the board number (0-2, or 0-5) and Y the sensor number (0-2).</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="n">qdac</span><span class="o">.</span><span class="n">temp0_0</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">qdac</span><span class="o">.</span><span class="n">temp0_0</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">qdac</span><span class="o">.</span><span class="n">temp2_1</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">qdac</span><span class="o">.</span><span class="n">temp0_0</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Resetting-the-driver-and-the-QDAC">
<h2>Resetting the driver and the QDAC<a class="headerlink" href="#Resetting-the-driver-and-the-QDAC" title="Permalink to this headline">¶</a></h2>
<p>To get to a well defined state, the QDAC should be powered off and then on before starting this driver.</p>
<p>Alternatively the reset command can be executed. The reset command can also be used to recover an off/on situation of the QDAC without having to restart the driver.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">qdac</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="n">update_currents</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="c1"># Then print the overview gain</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">print_overview</span><span class="p">(</span><span class="n">update_currents</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Shut down the VISA connection</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="QCodes example with Rigol DG1062.html" class="btn btn-neutral float-right" title="QCoDeS Example with the Rigol DG 1062 Instrument" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="QCodes example with Keithley S46.html" class="btn btn-neutral float-left" title="QCoDeS Example with Tektronix Keithley S46" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>